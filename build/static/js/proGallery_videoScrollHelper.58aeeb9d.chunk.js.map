{"version":3,"file":"static/js/proGallery_videoScrollHelper.58aeeb9d.chunk.js","mappings":"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","sources":["../../../../../src/components/helpers/mediaScrollHelper/utils.js","../../../../../src/components/helpers/mediaScrollHelper/mediaScrollHelper.ts"],"names":["getDistanceFromScreen","_ref","offset","scroll","itemStart","itemEnd","screenSize","before","after","constructor","setPlayingItem","isItemSupported","getPlayTrigger","_this","scrollBase","items","currentPlayingIdx","currentItemCount","lastVideoPlayed","itemRatingMap","Map","updateGalleryStructure","galleryStructure","galleryWidth","options","playTrigger","videoLoop","behaviourParams_item_video_loop","scrollDirection","layoutParams_structure_scrollDirection","galleryItems","length","forEach","item","has","id","set","idx","push","handleEvent","_ref2","eventName","eventData","GALLERY_CONSTS","events","ITEM_ACTION_TRIGGERED","itemClicked","VIDEO_PAUSED","stop","HOVER_SET","itemHovered","VIDEO_ENDED","videoEnded","VIDEO_PLAYED","videoPlayed","VIDEO_ERROR","videoErrorReported","shouldTriggerAction","action","arguments","undefined","findItem","shouldTrigger","play","onScroll","_ref3","top","left","isCurrentItemStillVisible","autoPlayNextItemByRating","initializePlayState","_ref4","secondBestRating","rating","Infinity","bestRating","some","isVisible","itemRating","get","setPlayingIdx","newRating","onPlayingIdxChange","_ref5","currentItemPlacement","_ref6","target","offsetTop","scrollY","scrollLeft","itemPlayVerticalTolerance","bottom","itemPlayHorizontalTolerance","right","visibleVertically","screenHeight","padding","res","isWithinPaddingVertically","style","height","window","innerHeight","visibleHorizontally","optionsMap","layoutParams","structure","VERTICAL","screenWidth","isWithinPaddingHorizontally","width","innerWidth","find"],"sourceRoot":""}